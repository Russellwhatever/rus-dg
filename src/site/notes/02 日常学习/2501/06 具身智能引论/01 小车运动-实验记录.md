---
{"dg-publish":true,"permalink":"/02/2501/06/01/","noteIcon":"","created":"2025-04-01T15:48","updated":"2025-07-01T13:38"}
---

# 1 软件-树莓派配置与安装
## 1 一切按照步骤运行，最终成功。
> [!note] Bug 1
> 由于本电脑曾经连接过使用相同名称的不同树莓派，在 vscode 中 ssh 连接时会因 config 存储内容 key 不同而报错。
> - 尝试直接编辑 vscode 的 ssh config 文件，但无效。
> - 使用不同的 shell（XShell8）来连接后，问题解决。
- [x] 树莓派系统烧制：Ubuntu 22.04 LTS 64bit  [completion:: 2025-04-01]
- [x] 安装 ros 系统  [completion:: 2025-04-01]
- [x] 创建 car（自定义的项目名称）并编写脚本运行  [completion:: 2025-04-01]、
> [!note] Bug 2
> 进行 ros 系统安装时，突然断联，再次打开时显示 ros 已经完成安装；执行 `ros2 run wheels motor_control` 会一直报错 `Package 'wheels' not found'` 。重新编译也无法解决。
> 应该是上次关机时没有运行正常关闭导致的。只能进入~/.bashrc 重新设置 `export=path`，并手动删除重装 ros 解决。

总结：在软件安装时遇到了一系列与文档中描述的理想情况并不完全一致的情况，但善用搜索，结合具体代码报错，成功完成。
# 2 硬件-小车的组装

## 1 基础组装
### 1.1 导线
为便于分辨，重新使用四种颜色的导线连接电机与小车驱动板。
同时，为方便组装、避免导线之间彼此接触造成短路与不必要的 bug，对上述导线进行封端（如图）
![99 Attachment/Pasted image 20250407234714.png](/img/user/99%20Attachment/Pasted%20image%2020250407234714.png)
### 1.2 电池
为节省空间，同时方便连接驱动板与电池和日常给电池进行充电的充电过程，将电池固定在小车板的驱动板段的背面（如下图为小车板件腹部）
![99 Attachment/96591f0883f6db1244161f037705765.jpg](/img/user/99%20Attachment/96591f0883f6db1244161f037705765.jpg)
### 1.3 不导电垫板与整体连接方法
本小车采用塑料半透明板（取自半个塑料文具盒），并使用小米电磨笔钻孔、扎带固定，将小车、驱动板、电池与树莓派彼此之间固定
## 2 接口
> [!note] Bug 3
> 在正常接线过程中，我遇到了一个同样被很多同学遇到的问题：只要连接电源，无论树莓派有没有启动脚本，右前轮均会自发开始转动
- 文档
我首先查看文档，关注到最后一个问题的描述与我有类似之处，于是尝试将树莓派和驱动板的 ground 彼此连接。但并没有解决问题。
- 求助助教
线下求助助教后，我们尝试将树莓派的不同 GPIO 接口上的杜邦线更换位置。效果立竿见影，车轮立即不转了。看来的确有可能是树莓派内部接口存在某种未知的 bug，但换下接口就没事了。
- 还是不行
然而，回家后我继续尝试连接，再也无法连接；使用显示器，不亮，说明无法正常启动。摸摸树莓派不热，确实出了问题。
我网购了一块新版仍未能解决。反而新版也坏了
- 严格按照接口文档对照，终于跑通。
我认为这是由于不同树莓派的 GPIO 之间并非完全等效，因此直接更改接口是存在巨大的安全隐患的！也可为我的实验记录与教训。
********
总结：成功完成了小车
